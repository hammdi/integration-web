<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commande Automatique avec Ordonnance</title>
    <link rel="stylesheet" href="./output.css">
</head>
<body class="bg-background relative">
    <!-- Navbar -->
    <div id="navbar-container"></div>

    <div class="container mx-auto flex flex-col md:flex-row mt-6">
        <main class="w-full bg-white p-4 rounded-xl shadow-custom">
            <div class="container">
                <h1 class="text-2xl font-bold text-primary">Commande automatique avec ordonnance</h1>
                <p class="mt-4">Cette fonctionnalité vous permet d’ajouter automatiquement les médicaments de votre ordonnance à votre panier pour faciliter vos achats récurrents.</p>

                <h2 class="text-xl font-semibold text-primary mt-6">Autorisation d'Achat Automatique de Médicaments</h2>
                <p class="mt-2">En activant cette fonctionnalité, vous autorisez notre plateforme à effectuer automatiquement l'achat de vos médicaments selon vos besoins et préférences. Cela implique :</p>
                <ul class="list-disc list-inside mt-2">
                    <li><strong>Paiement Automatique :</strong> Vos commandes seront réglées automatiquement en fonction de votre abonnement ou de vos prescriptions récurrentes.</li>
                    <li><strong>Sécurité et Confidentialité :</strong> Toutes les transactions sont protégées par des protocoles de chiffrement conformes aux normes bancaires et de santé.</li>
                    <li><strong>Gestion Flexible :</strong> Vous pouvez modifier, suspendre ou désactiver cette fonctionnalité à tout moment depuis votre compte.</li>
                    <li><strong>Suivi Transparent :</strong> Une notification détaillée vous sera envoyée avant chaque achat, précisant les médicaments commandés et le montant facturé.</li>
                </ul>

                <h2 class="text-xl font-semibold text-primary mt-6">Clause de Non-Responsabilité</h2>
                <p class="mt-2">En activant cette option, vous confirmez être autorisé à effectuer ces achats et acceptez les prélèvements correspondants. La désactivation de cette fonctionnalité n’annulera pas les commandes déjà traitées.</p>

                <div class="checkbox mt-4">
                    <input type="checkbox" id="accept">
                    <label for="accept" class="text-primary"><strong>Cliquez sur accepter si vous êtes d’accord</strong></label>
                </div>
            </div>
            <!-- New section starts here -->
            <div class="container mt-6">
                <h1 class="text-2xl font-bold text-primary">Votre Panier</h1>
                <div class="medication-list flex flex-col gap-6 mt-4">
                    <div class="medication-item bg-white rounded-lg shadow-custom overflow-hidden flex">
                        <div class="relative w-1/6">
                            <img src="assets\images\pack_3d_donormyl_cps_pelli_janvier_2023.png" alt="Donormyl" class="w-full h-full object-contain p-2">
                            <span class="absolute top-2 right-2 bg-primary text-white px-2 py-1 rounded-md text-sm">8,25 TND</span>
                        </div>
                        <div class="p-4 flex-1">
                            <h3 class="text-lg font-semibold">Donormyl (15mg) / 10 comprimés / EXP 12 2023</h3>
                            <p class="text-sm text-gray-600 mb-2">Donormyl est un médicament contenant du doxylamine...</p>
                            <div class="flex justify-between items-center mb-2">
                                <p class="text-sm">
                                    <span class="font-semibold">Disponibilité:</span>
                                    <span class="text-green-600">En Stock</span>
                                </p>
                            </div>
                            <div class="flex justify-between items-center">
                                <div class="quantity-control flex items-center">
                                    <button class="quantity-button bg-gray-200 px-2 py-1 rounded-l-md" onclick="updateQuantity(this, -1)">-</button>
                                    <input type="text" class="quantity-input w-12 text-center border border-gray-300" value="2">
                                    <button class="quantity-button bg-gray-200 px-2 py-1 rounded-r-md" onclick="updateQuantity(this, 1)">+</button>
                                </div>
                                <div class="total-column text-primary font-semibold">16,50 TND</div>
                            </div>
                        </div>
                    </div>
                    <!-- Repeat similar blocks for other medications -->
                    <div class="medication-item bg-white rounded-lg shadow-custom overflow-hidden flex">
                        <div class="relative w-1/6">
                            <img src="assets\images\pack_3d_donormyl_cps_pelli_janvier_2023.png" alt="Alopexy" class="w-full h-full object-contain p-2">
                            <span class="absolute top-2 right-2 bg-primary text-white px-2 py-1 rounded-md text-sm">16,32 TND</span>
                        </div>
                        <div class="p-4 flex-1">
                            <h3 class="text-lg font-semibold">Alopexy (5%) / 60 ml / EXP 11 2023</h3>
                            <p class="text-sm text-gray-600 mb-2">Alopexy est une solution pour application cutanée...</p>
                            <div class="flex justify-between items-center mb-2">
                                <p class="text-sm">
                                    <span class="font-semibold">Disponibilité:</span>
                                    <span class="text-green-600">En Stock</span>
                                </p>
                            </div>
                            <div class="flex justify-between items-center">
                                <div class="quantity-control flex items-center">
                                    <button class="quantity-button bg-gray-200 px-2 py-1 rounded-l-md" onclick="updateQuantity(this, -1)">-</button>
                                    <input type="text" class="quantity-input w-12 text-center border border-gray-300" value="1">
                                    <button class="quantity-button bg-gray-200 px-2 py-1 rounded-r-md" onclick="updateQuantity(this, 1)">+</button>
                                </div>
                                <div class="total-column text-primary font-semibold">16,32 TND</div>
                            </div>
                        </div>
                    </div>
                    <div class="medication-item bg-white rounded-lg shadow-custom overflow-hidden flex">
                        <div class="relative w-1/6">
                            <img src="assets\images\pack_3d_donormyl_cps_pelli_janvier_2023.png" alt="Hexomedine" class="w-full h-full object-contain p-2">
                            <span class="absolute top-2 right-2 bg-primary text-white px-2 py-1 rounded-md text-sm">22,25 TND</span>
                        </div>
                        <div class="p-4 flex-1">
                            <h3 class="text-lg font-semibold">Hexomedine / 45 ml / EXP 10 2023</h3>
                            <p class="text-sm text-gray-600 mb-2">Hexomedine est une solution antiseptique...</p>
                            <div class="flex justify-between items-center mb-2">
                                <p class="text-sm">
                                    <span class="font-semibold">Disponibilité:</span>
                                    <span class="text-green-600">En Stock</span>
                                </p>
                            </div>
                            <div class="flex justify-between items-center">
                                <div class="quantity-control flex items-center">
                                    <button class="quantity-button bg-gray-200 px-2 py-1 rounded-l-md" onclick="updateQuantity(this, -1)">-</button>
                                    <input type="text" class="quantity-input w-12 text-center border border-gray-300" value="1">
                                    <button class="quantity-button bg-gray-200 px-2 py-1 rounded-r-md" onclick="updateQuantity(this, 1)">+</button>
                                </div>
                                <div class="total-column text-primary font-semibold">22,25 TND</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="total-row mt-4 flex justify-between items-center bg-gray-100 p-4 rounded-md">
                    <div class="text-lg font-semibold">Total TTC</div>
                    <div class="total-price text-xl font-bold text-primary">55,07 TND</div>
                </div>
                <div class="auto-renewal mt-4 text-center">
                    <button class="renewal-button bg-primary text-white py-2 px-4 rounded-md">Renouvellement auto</button>
                </div>
            </div>
            <!-- New section ends here -->
        </main>
    </div>

    <!-- Footer -->
    <div id="footer-container"></div>

    <script type="module" src="main.js"></script>

    <script>
    // Fonction pour charger un fichier HTML dans un élément spécifique
    function loadComponent(containerId, filePath) {
        fetch(filePath)
            .then(response => response.text())
            .then(data => document.getElementById(containerId).innerHTML = data)
            .catch(error => console.error(`Erreur lors du chargement de ${filePath}:`, error));
    }

    // Charger la navbar et le footer
    loadComponent("navbar-container", "NavBar.html");
    loadComponent("footer-container", "Footer.html");

    // Function to update quantity
    function updateQuantity(button, change) {
        const input = button.parentElement.querySelector('.quantity-input');
        let quantity = parseInt(input.value);
        quantity = isNaN(quantity) ? 0 : quantity;
        quantity += change;
        if (quantity < 1) quantity = 1;
        input.value = quantity;
        // Update total price if needed
    }
    </script>
</body>
</html>
